<html>
<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>find | Dev-Coco</title>

<link rel="shortcut icon" href="https://dev-coco.github.io/favicon.ico?v=1649561576908">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://dev-coco.github.io/styles/main.css">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"> -->

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/9.12.0/languages//dart.min.js"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script> -->
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="/">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            Dev-Coco
        </div>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" id="changeNavbar">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    首页
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/Featured-Software.html" class="menu gt-a-link">
                    软件
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/Online-Tools" class="menu gt-a-link">
                    在线工具
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/Linux-Command" class="menu gt-a-link">
                    Linux命令
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/Excel" class="menu gt-a-link">
                    Excel教程
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/Terms-and-Privacy" class="menu gt-a-link">
                    隐私与条款
                </a>
                
            </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1649561576908"
                action="/search/">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>
<script>
    /* 移动端导航栏展开/收起切换 */
    document.getElementById('changeNavbar').onclick = () => {
        var element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    find
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2022-02-03 ·
                    </time>
                    
                        <a href="https://dev-coco.github.io/tag/linux-command/" class="post-tags">
                            # Linux命令
                        </a>
                    
                </div>
                <div class="post-content">
                    <p>在指定目录下查找文件。</p>
<!-- more -->
<h2 id="补充说明">补充说明</h2>
<p>find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。</p>
<h2 id="语法">语法</h2>
<pre><code class="language-Shell">find (选项) (参数)
</code></pre>
<h2 id="选项">选项</h2>
<pre><code class="language-Shell">-amin&lt;分钟&gt;：查找在指定时间曾被存取过的文件或目录，单位以分钟计算；
-anewer&lt;参考文件或目录&gt;：查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录；
-atime&lt;24 小时数&gt;：查找在指定时间曾被存取过的文件或目录，单位以 24 小时计算；
-cmin&lt;分钟&gt;：查找在指定时间之时被更改过的文件或目录；
-cnewer&lt;参考文件或目录&gt;查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-ctime&lt;24 小时数&gt;：查找在指定时间之时被更改的文件或目录，单位以 24 小时计算；
-daystart：从本日开始计算时间；
-depth：从指定目录下最深层的子目录开始查找；
-expty：寻找文件大小为 0 Byte 的文件，或目录下没有任何子目录或文件的空目录；
-exec&lt;执行指令&gt;：假设 find 指令的回传值为 True，就执行该指令；
-false：将 find 指令的回传值皆设为 False；
-fls&lt;列表文件&gt;：此参数的效果和指定“-ls”参数类似，但会把结果保存为指定的列表文件；
-follow：排除符号连接；
-fprint&lt;列表文件&gt;：此参数的效果和指定“-print”参数类似，但会把结果保存成指定的列表文件；
-fprint0&lt;列表文件&gt;：此参数的效果和指定“-print0”参数类似，但会把结果保存成指定的列表文件；
-fprintf&lt;列表文件&gt;&lt;输出格式&gt;：此参数的效果和指定“-printf”参数类似，但会把结果保存成指定的列表文件；
-fstype&lt;文件系统类型&gt;：只寻找该文件系统类型下的文件或目录；
-gid&lt;群组识别码&gt;：查找符合指定之群组识别码的文件或目录；
-group&lt;群组名称&gt;：查找符合指定之群组名称的文件或目录；
-help 或--help：在线帮助；
-ilname&lt;范本样式&gt;：此参数的效果和指定“-lname”参数类似，但忽略字符大小写的差别；
-iname&lt;范本样式&gt;：此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别；
-inum&lt;inode 编号&gt;：查找符合指定的 inode 编号的文件或目录；
-ipath&lt;范本样式&gt;：此参数的效果和指定“-path”参数类似，但忽略字符大小写的差别；
-iregex&lt;范本样式&gt;：此参数的效果和指定“-regexe”参数类似，但忽略字符大小写的差别；
-links&lt;连接数目&gt;：查找符合指定的硬连接数目的文件或目录；
-lname&lt;范本样式&gt;：指定字符串作为寻找符号连接的范本样式；
-ls：假设 find 指令的回传值为 Ture，就将文件或目录名称列出到标准输出；
-maxdepth&lt;目录层级&gt;：设置最大目录层级；
-mindepth&lt;目录层级&gt;：设置最小目录层级；
-mmin&lt;分钟&gt;：查找在指定时间曾被更改过的文件或目录，单位以分钟计算；
-mount：此参数的效果和指定“-xdev”相同；
-mtime&lt;24 小时数&gt;：查找在指定时间曾被更改过的文件或目录，单位以 24 小时计算；
-name&lt;范本样式&gt;：指定字符串作为寻找文件或目录的范本样式；
-newer&lt;参考文件或目录&gt;：查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-nogroup：找出不属于本地主机群组识别码的文件或目录；
-noleaf：不去考虑目录至少需拥有两个硬连接存在；
-nouser：找出不属于本地主机用户识别码的文件或目录；
-ok&lt;执行指令&gt;：此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令；
-path&lt;范本样式&gt;：指定字符串作为寻找目录的范本样式；
-perm&lt;权限数值&gt;：查找符合指定的权限数值的文件或目录；
-print：假设 find 指令的回传值为 Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串；
-print0：假设 find 指令的回传值为 Ture，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；
-printf&lt;输出格式&gt;：假设 find 指令的回传值为 Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；
-prune：不寻找字符串作为寻找文件或目录的范本样式;-regex&lt;范本样式&gt;：指定字符串作为寻找文件或目录的范本样式；
-size&lt;文件大小&gt;：查找符合指定的文件大小的文件；
-true：将 find 指令的回传值皆设为 True；
-type&lt;文件类型&gt;：只寻找符合指定的文件类型的文件；
-uid&lt;用户识别码&gt;：查找符合指定的用户识别码的文件或目录；
-used&lt;日数&gt;：查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算；
-user&lt;拥有者名称&gt;：查找符和指定的拥有者名称的文件或目录；
-version 或——version：显示版本信息；
-xdev：将范围局限在先行的文件系统中；
-xtype&lt;文件类型&gt;：此参数的效果和指定“-type”参数类似，差别在于它针对符号连接检查。
</code></pre>
<h2 id="参数">参数</h2>
<p>起始目录：查找文件的起始目录。</p>
<h2 id="实例">实例</h2>
<pre><code class="language-Shell"># 当前目录搜索所有文件，文件内容 包含 “140.206.111.111” 的内容
find . -type f -name &quot;*&quot; | xargs grep &quot;140.206.111.111&quot;
</code></pre>
<h3 id="根据文件或者正则表达式进行匹配">根据文件或者正则表达式进行匹配</h3>
<p>列出当前目录及子目录下所有文件和文件夹</p>
<pre><code class="language-Shell">find .
</code></pre>
<p>在<code>/home</code>目录下查找以.txt 结尾的文件名</p>
<pre><code class="language-Shell">find /home -name &quot;*.txt&quot;
</code></pre>
<p>同上，但忽略大小写</p>
<pre><code class="language-Shell">find /home -iname &quot;*.txt&quot;
</code></pre>
<p>当前目录及子目录下查找所有以.txt 和.pdf 结尾的文件</p>
<pre><code class="language-Shell">find . \( -name &quot;*.txt&quot; -o -name &quot;*.pdf&quot; \) 或 find . -name &quot;*.txt&quot; -o -name &quot;*.pdf&quot;
</code></pre>
<p>匹配文件路径或者文件</p>
<pre><code class="language-Shell">find /usr/ -path &quot;*local*&quot;
</code></pre>
<p>基于正则表达式匹配文件路径</p>
<pre><code class="language-Shell">find . -regex &quot;.*\(\.txt\|\.pdf\)$&quot;
</code></pre>
<p>同上，但忽略大小写</p>
<pre><code class="language-Shell">find . -iregex &quot;.*\(\.txt\|\.pdf\)$&quot;
</code></pre>
<h3 id="否定参数">否定参数</h3>
<p>找出/home 下不是以.txt 结尾的文件</p>
<pre><code class="language-Shell">find /home ! -name &quot;*.txt&quot;
</code></pre>
<h3 id="根据文件类型进行搜索">根据文件类型进行搜索</h3>
<pre><code class="language-Shell">find . -type 类型参数
</code></pre>
<p>类型参数列表：</p>
<ul>
<li>f  普通文件</li>
<li>l  符号连接</li>
<li>d  目录</li>
<li>c  字符设备</li>
<li>b  块设备</li>
<li>s  套接字</li>
<li>p  Fifo</li>
</ul>
<h3 id="基于目录深度搜索">基于目录深度搜索</h3>
<p>向下最大深度限制为 3</p>
<pre><code class="language-Shell">find . -maxdepth 3 -type f
</code></pre>
<p>搜索出深度距离当前目录至少 2 个子目录的所有文件</p>
<pre><code class="language-Shell">find . -mindepth 2 -type f
</code></pre>
<h3 id="根据文件时间戳进行搜索">根据文件时间戳进行搜索</h3>
<pre><code class="language-Shell">find . -type f 时间戳
</code></pre>
<p>UNIX/Linux 文件系统每个文件都有三种时间戳：</p>
<ul>
<li>访问时间 （-atime/天，-amin/分钟）：用户最近一次访问时间。</li>
<li>修改时间 （-mtime/天，-mmin/分钟）：文件最后一次修改时间。</li>
<li>变化时间 （-ctime/天，-cmin/分钟）：文件数据元（例如权限等）最后一次修改时间。</li>
</ul>
<p>搜索最近七天内被访问过的所有文件</p>
<pre><code class="language-Shell">find . -type f -atime -7
</code></pre>
<p>搜索恰好在七天前被访问过的所有文件</p>
<pre><code class="language-Shell">find . -type f -atime 7
</code></pre>
<p>搜索超过七天内被访问过的所有文件</p>
<pre><code class="language-Shell">find . -type f -atime +7
</code></pre>
<p>搜索访问时间超过 10 分钟的所有文件</p>
<pre><code class="language-Shell">find . -type f -amin +10
</code></pre>
<p>找出比 file.log 修改时间更长的所有文件</p>
<pre><code class="language-Shell">find . -type f -newer file.log
</code></pre>
<h3 id="根据文件大小进行匹配">根据文件大小进行匹配</h3>
<pre><code class="language-Shell">find . -type f -size 文件大小单元
</code></pre>
<p>文件大小单元：</p>
<ul>
<li>b  —— 块（512 字节）</li>
<li>c  —— 字节</li>
<li>w  —— 字（2 字节）</li>
<li>k  —— 千字节</li>
<li>M  —— 兆字节</li>
<li>G  —— 吉字节</li>
</ul>
<p>搜索大于 10KB 的文件</p>
<pre><code class="language-Shell">find . -type f -size +10k
</code></pre>
<p>搜索小于 10KB 的文件</p>
<pre><code class="language-Shell">find . -type f -size -10k
</code></pre>
<p>搜索等于 10KB 的文件</p>
<pre><code class="language-Shell">find . -type f -size 10k
</code></pre>
<h3 id="删除匹配文件">删除匹配文件</h3>
<p>删除当前目录下所有.txt 文件</p>
<pre><code class="language-Shell">find . -type f -name &quot;*.txt&quot; -delete
</code></pre>
<h3 id="根据文件权限所有权进行匹配">根据文件权限/所有权进行匹配</h3>
<p>当前目录下搜索出权限为 777 的文件</p>
<pre><code class="language-Shell">find . -type f -perm 777
</code></pre>
<p>找出当前目录下权限不是 644 的 php 文件</p>
<pre><code class="language-Shell">find . -type f -name &quot;*.php&quot; ! -perm 644
</code></pre>
<p>找出当前目录用户 tom 拥有的所有文件</p>
<pre><code class="language-Shell">find . -type f -user tom
</code></pre>
<p>找出当前目录用户组 sunk 拥有的所有文件</p>
<pre><code class="language-Shell">find . -type f -group sunk
</code></pre>
<h3 id="借助-exec选项与其他命令结合使用">借助<code>-exec</code>选项与其他命令结合使用</h3>
<p>找出当前目录下所有 root 的文件，并把所有权更改为用户 tom</p>
<pre><code class="language-Shell">find .-type f -user root -exec chown tom {} \;
</code></pre>
<p>上例中， {}  用于与 -exec 选项结合使用来匹配所有文件，然后会被替换为相应的文件名。<br>
找出自己家目录下所有的.txt 文件并删除</p>
<pre><code class="language-Shell">find $HOME/. -name &quot;*.txt&quot; -ok rm {} \;
</code></pre>
<p>上例中， -ok 和 -exec 行为一样，不过它会给出提示，是否执行相应的操作。<br>
查找当前目录下所有.txt 文件并把他们拼接起来写入到 all.txt 文件中</p>
<pre><code class="language-Shell">find . -type f -name &quot;*.txt&quot; -exec cat {} \;&gt; /all.txt
</code></pre>
<p>将 30 天前的.log 文件移动到 old 目录中</p>
<pre><code class="language-Shell">find . -type f -mtime +30 -name &quot;*.log&quot; -exec cp {} old \;
</code></pre>
<p>找出当前目录下所有.txt 文件并以“File:文件名”的形式打印出来</p>
<pre><code class="language-Shell">find . -type f -name &quot;*.txt&quot; -exec printf &quot;File: %s&lt;span title=&quot;\n&quot;&gt;\n&quot; {} \;
</code></pre>
<p>因为单行命令中-exec 参数中无法使用多个命令，以下方法可以实现在-exec 之后接受多条命令</p>
<pre><code class="language-Shell">-exec ./text.sh {} \;
</code></pre>
<h3 id="搜索但跳出指定的目录">搜索但跳出指定的目录</h3>
<p>查找当前目录或者子目录下所有.txt 文件，但是跳过子目录 sk</p>
<pre><code class="language-Shell">find . -path &quot;./sk&quot; -prune -o -name &quot;*.txt&quot; -print
</code></pre>
<h3 id="find-其他技巧收集">find 其他技巧收集</h3>
<p>要列出所有长度为零的文件</p>
<pre><code class="language-Shell">find . -empty
</code></pre>
<h3 id="其它实例">其它实例</h3>
<pre><code class="language-Shell">find ~ -name '*jpg' # 主目录中找到所有的 jpg 文件。 -name 参数允许你将结果限制为与给定模式匹配的文件。
find ~ -iname '*jpg' # -iname 就像 -name，但是不区分大小写
find ~ ( -iname 'jpeg' -o -iname 'jpg' ) # 一些图片可能是 .jpeg 扩展名。幸运的是，我们可以将模式用“或”（表示为 -o）来组合。
find ~ \( -iname '*jpeg' -o -iname '*jpg' \) -type f # 如果你有一些以 jpg 结尾的目录呢？ （为什么你要命名一个 bucketofjpg 而不是 pictures 的目录就超出了本文的范围。）我们使用 -type 参数修改我们的命令来查找文件。
find ~ \( -iname '*jpeg' -o -iname '*jpg' \) -type d # 也许你想找到那些命名奇怪的目录，以便稍后重命名它们
</code></pre>
<p>最近拍了很多照片，所以让我们把它缩小到上周更改的文件</p>
<pre><code class="language-Shell">find ~ \( -iname '*jpeg' -o -iname '*jpg' \) -type f -mtime -7
</code></pre>
<p>你可以根据文件状态更改时间 （ctime）、修改时间 （mtime） 或访问时间 （atime） 来执行时间过滤。 这些是在几天内，所以如果你想要更细粒度的控制，你可以表示为在几分钟内（分别是 cmin、mmin 和 amin）。 除非你确切地知道你想要的时间，否则你可能会在 + （大于）或 - （小于）的后面加上数字。<br>
但也许你不关心你的照片。也许你的磁盘空间不够用，所以你想在 log 目录下找到所有巨大的（让我们定义为“大于 1GB”）文件：</p>
<pre><code class="language-Shell">find /var/log -size +1G
</code></pre>
<p>或者，也许你想在 /data 中找到 bcotton 拥有的所有文件：</p>
<pre><code class="language-Shell">find /data -owner bcotton
</code></pre>
<p>你还可以根据权限查找文件。也许你想在你的主目录中找到对所有人可读的文件，以确保你不会过度分享。</p>
<pre><code class="language-Shell">find ~ -perm -o=r
</code></pre>
<p>删除 mac 下自动生成的文件</p>
<pre><code class="language-Shell">find ./ -name '__MACOSX' -depth -exec rm -rf {} \;
</code></pre>
<p>统计代码行数</p>
<pre><code class="language-Shell">find . -name &quot;*.java&quot;|xargs cat|grep -v ^$|wc -l # 代码行数统计, 排除空行
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://dev-coco.github.io/post/gdb/" class="post-title gt-a-link">
                    gdb
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">ttest</div>
    <div class="social-container">
        
            
                <a href="https://github.com/dev-coco" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        <span>Copyright © 2020-2022 Dev-Coco - All Rights Reserved.</span>
    </div>
    <div>
        Theme <a href="https://github.com/imhanjie/gridea-theme-pure" target="_blank">Pure</a>, Powered by <a
                href="https://gridea.dev" target="_blank">Gridea</a> | <a href="https://dev-coco.github.io/atom.xml" target="_blank">RSS</a>
    </div>
</div>

<script>
  hljs.highlightAll()
</script>

    </div>
</div>
</body>
</html>
