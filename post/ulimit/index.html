<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>ulimit | Raz1ner</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://dev-coco.github.io/favicon.ico?v=1676058158733">
<link rel="stylesheet" href="https://dev-coco.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="控制 shell 程序的资源。

补充说明
ulimit 命令用来限制系统用户对 shell 资源的访问。如果不懂什么意思，下面一段内容可以帮助你理解：
假设有这样一种情况，当一台 Linux 主机上同时登陆了 10 个人，在系统资源无限制..." />
    <meta name="keywords" content="Linux命令" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://dev-coco.github.io">
        <img src="https://dev-coco.github.io/images/avatar.png?v=1676058158733" class="site-logo">
        <h1 class="site-title">Raz1ner</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/Featured-Software.html" class="site-nav">
            软件
          </a>
        
      
        
          <a href="/Online-Tools" class="site-nav">
            在线工具
          </a>
        
      
        
          <a href="/post/Linux-Command" class="site-nav">
            Linux命令
          </a>
        
      
        
          <a href="/Excel" class="site-nav">
            Excel教程
          </a>
        
      
        
          <a href="/post/Terms-and-Privacy" class="site-nav">
            隐私与条款
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/dev-coco" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      
    </div>
    <div class="site-footer">
      <span>Copyright © 2020-2023 Raz1ner - All Rights Reserved.</span> | <a class="rss" href="https://dev-coco.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">ulimit</h2>
            <div class="post-date">2022-02-03</div>
            
              <div class="feature-container" style="background-image: url('https://dev-coco.github.io/post-images/Linux-Command.png')">
              </div>
            
            <div class="post-content" v-pre>
              <p>控制 shell 程序的资源。</p>
<!-- more -->
<h2 id="补充说明">补充说明</h2>
<p>ulimit 命令用来限制系统用户对 shell 资源的访问。如果不懂什么意思，下面一段内容可以帮助你理解：</p>
<p>假设有这样一种情况，当一台 Linux 主机上同时登陆了 10 个人，在系统资源无限制的情况下，这 10 个用户同时打开了 500 个文档，而假设每个文档的大小有 10M，这时系统的内存资源就会受到巨大的挑战。</p>
<p>而实际应用的环境要比这种假设复杂的多，例如在一个嵌入式开发环境中，各方面的资源都是非常紧缺的，对于开启文件描述符的数量，分配堆栈的大 小，CPU 时间，虚拟内存大小，等等，都有非常严格的要求。资源的合理限制和分配，不仅仅是保证系统可用性的必要条件，也与系统上软件运行的性能有着密不可分的联 系。这时，ulimit 可以起到很大的作用，它是一种简单并且有效的实现资源限制的方式。</p>
<p>ulimit 用于限制 shell 启动进程所占用的资源，支持以下各种类型的限制：所创建的内核文件的大小、进程数据块的大小、Shell 进程创建文件的大小、内存锁住的大小、常驻内存集的大小、打开文件描述符的数量、分配堆栈的最大大小、CPU 时间、单个用户的最大线程数、Shell 进程所能使用的最大虚拟内存。同时，它支持硬资源和软资源的限制。</p>
<p>作为临时限制，ulimit 可以作用于通过使用其命令登录的 shell 会话，在会话终止时便结束限制，并不影响于其他 shell 会话。而对于长期的固定限制，ulimit 命令语句又可以被添加到由登录 shell 读取的文件中，作用于特定的 shell 用户。</p>
<h2 id="语法">语法</h2>
<pre><code class="language-Shell">ulimit (选项)
</code></pre>
<h2 id="选项">选项</h2>
<pre><code class="language-Shell">-a：显示目前资源限制的设定；
-c &lt;core 文件上限&gt;：设定 core 文件的最大值，单位为区块；
-d &lt;数据节区大小&gt;：程序数据节区的最大值，单位为 KB；
-e 默认进程优先级, 值越小优先级越高
-f &lt;文件大小&gt;：shell 所能建立的最大文件，单位为区块；
-H：设定资源的硬性限制，也就是管理员所设下的限制；
-m &lt;内存大小&gt;：指定可使用内存的上限，单位为 KB；
-n &lt;文件数目&gt;：指定同一时间最多可开启的文件数；
-p &lt;缓冲区大小&gt;：指定管道缓冲区的大小，单位 512 字节；
-s &lt;堆叠大小&gt;：指定堆叠的上限，单位为 KB；
-S：设定资源的弹性限制；
-t &lt;CPU 时间&gt;：指定 CPU 使用时间的上限，单位为秒；
-u &lt;程序数目&gt;：用户最多可开启的程序数目；
-v &lt;虚拟内存大小&gt;：指定可使用的虚拟内存上限，单位为 KB。
</code></pre>
<h2 id="实例">实例</h2>
<pre><code class="language-Shell">[root@localhost ~]# ulimit -a
core file size          (blocks, -c) 0           #core 文件的最大值为 100 blocks。
data seg size           (kbytes, -d) unlimited   #进程的数据段可以任意大。
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited   #文件可以任意大。
pending signals                 (-i) 98304       #最多有 98304 个待处理的信号。
max locked memory       (kbytes, -l) 32          #一个任务锁住的物理内存的最大值为 32KB。
max memory size         (kbytes, -m) unlimited   #一个任务的常驻物理内存的最大值。
open files                      (-n) 1024        #一个任务最多可以同时打开 1024 的文件。
pipe size            (512 bytes, -p) 8           #管道的最大空间为 4096 字节。
POSIX message queues     (bytes, -q) 819200      #POSIX 的消息队列的最大值为 819200 字节。
real-time priority              (-r) 0
stack size              (kbytes, -s) 10240       #进程的栈的最大值为 10240 字节。
cpu time               (seconds, -t) unlimited   #进程使用的 CPU 时间。
max user processes              (-u) 98304       #当前用户同时打开的进程（包括线程）的最大个数为 98304。
virtual memory          (kbytes, -v) unlimited   #没有限制进程的最大地址空间。
file locks                      (-x) unlimited   #所能锁住的文件的最大个数没有限制。
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://dev-coco.github.io/tag/linux-command/" class="tag">
                    Linux命令
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://dev-coco.github.io/post/read/">
                  <h3 class="post-title">
                    read
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
