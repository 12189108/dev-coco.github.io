<html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>bzip2 | Raz1ner</title>
  <link rel="shortcut icon" href="http://localhost:4000/favicon.ico?v=1658242525812">
  <link rel="stylesheet" href="http://localhost:4000/styles/main.css">
  <script src="http://localhost:4000/media/js/jquery.sticky-sidebar.min.js"></script>
<script data-ad-client="ca-pub-6960947409660270" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
  <div class="main">
    <div class="header">
      <div class="nav">
        <div class="logo">
          <a href="http://localhost:4000">
            <img class="avatar" src="http://localhost:4000/images/avatar.png?v=1658242525812" alt="">
          </a>
          <div class="site-title">
            <h1>Raz1ner</h1>
          </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
          <ul>
            <li>
              <a href="/" class="menu">首页</a>
            </li>
            <li>
              <a href="/Featured-Software.html" class="menu">软件</a>
            </li>
            <li>
              <a href="/Online-Tools" class="menu">在线工具</a>
            </li>
            <li>
              <a href="/post/Linux-Command" class="menu">Linux命令</a>
            </li>
            <li>
              <a href="/Excel" class="menu">Excel教程</a>
            </li>
            <li>
              <a href="/post/Terms-and-Privacy" class="menu">隐私与条款</a>
            </li>
          </ul>
        </div>
        <form id="gridea-search-form" action="http://localhost:4000/search/" class="search">
          <input type="search" name="q" class="search-box">
          <span class="search-button">
            <span class="search-icon"></span>
          </span>
        </form>
      </div>
    </div>
    <script>
      document.getElementsByClassName('search-button')[0].addEventListener('click', function () {
        document.getElementById('gridea-search-form').classList.toggle('open');
      })
    </script>

    <div id="main-content" class="post-detail main-container">
      <!-- left -->
      <div id="content" class="main-container-left">
        <article class="post i-card">
        <h2 class="post-title">bzip2</h2>
        <div class="post-info">
          <time class="post-time">2022-01-31 / 8 min read</time>
            <a href="http://localhost:4000/tag/linux-command/" class="post-tag i-tag i-tag-warning">#Linux命令</a>
        </div>
          <div class="post-content">
            <p>将文件压缩成 bz2 格式。</p>
<!-- more -->
<h2 id="补充说明">补充说明</h2>
<p>bzip2 命令用于创建和管理（包括解压缩）.bz2 格式的压缩包。<br>
bzip2 采用 Burrows-Wheeler 块排序文本压缩算法和 Huffman 编码方式压缩文件。 压缩率一般比基于 LZ77/LZ78 的压缩软件好得多，其性能接近 PPM 族统计类压缩软件。<br>
命令行参数有意设计为非常接近 GNU gzip 的形式，但也不完全相同。<br>
bzip2 从命令行读入文件名和参数。 每个文件被名为 &quot;原始文件名.bz2&quot; 的压缩文件替换。 每个压缩文件具有与原文件相同的修改时间、 权限， 如果可能的话，还具有相同的属主， 因此在解压缩时这些特性将正确地恢复。 在某些文件系统中， 没有权限、 属主或时间的概念， 或者对文件名的长度有严格限制， 例如 MSDOS，在这种情况下，bzip2 没有保持原文件名、 属主、 权限以及时间的机制， 从这个意义上说，bzip2 对文件名的处理是幼稚的。<br>
bzip2 和 bunzip2 在缺省情况下不覆盖已有的文件。 如果想覆盖已有的文件，要指定 -f 选项。<br>
如果未指定文件名， bzip2 将压缩来自标准输入的数据并写往标准输出。在这种情况下， bzip2 会拒绝将压缩结果写往终端，因为这完全无法理解并且是没有意义的。<br>
bunzip2 (以及 bzip2 -d) 对所有指定的文件进行解压缩处理。不是由 bzip2 产生的文件将被忽略，同时发出一个警告信息。 bzip2 按下列方式由压缩文件名确定解压后的文件名：</p>
<pre><code class="language-Shell">filename.bz2    解压成   filename
filename.bz     解压成   filename
filename.tbz2   解压成   filename.tar
filename.tbz    解压成   filename.tar
anyothername    解压成   anyothername.out
</code></pre>
<p>如果文件名的后缀不是下列之一： .bz2, .bz, .tbz2 或 .tbz, .bzip2 将抱怨无法确定原始文件名，并采用原文件名加 .out 作为解压缩文件名。<br>
在压缩时，如果不提供文件名，bzip2 将从标准输入读取数据，压缩结果写往标准输出。<br>
bzip2 采用 32 位 CRC 校验码作自我检查，以确认解压后的文件与原始文件相同。 这可用于检测压缩文件是否损坏，并防止 bzip2 中未知的缺陷（运气好的话这种可能性非常小）。 数据损坏而未检测到的几率非常之小， 对于每个被处理的文件大约是四十亿分之一。 检查是在解压缩时进行的，因此它只能说明某个地方出问题了。 它能帮助恢复原始未压缩的数据。可以用 bzip2recover 来尝试从损坏的文件中恢复数据。<br>
返回值：正常退出返回 0， 出现环境问题返回 1 （文件未找到，非法的选项，I/O错误等）， 返回 2 表明压缩文件损坏，出现导致 bzip2 紧急退出的内部一致性错误（例如缺陷）时返回 3。</p>
<h2 id="语法">语法</h2>
<pre><code class="language-Shell">bzip2 [ -cdfkqstvzVL123456789 ] [ filenames ...  ]
</code></pre>
<h2 id="选项">选项</h2>
<pre><code class="language-Shell">-c --stdout
    # 将数据压缩或解压缩至标准输出。

-d --decompress
    # 强制解压缩。 bzip2, bunzip2 以及 bzcat 实际上是同一个程序，进行何种操作将根据程序名确定。  指定该选项后将不考虑这一机制，强制 bzip2 进行解压缩。

-z --compress
    # -d 选项的补充：强制进行压缩操作，而不管执行的是哪个程序。

-t --test
    # 检查指定文件的完整性，但并不对其解压缩。 实际上将对数据进行实验性的解压缩操作，而不输出结果。

-f --force
    # 强制覆盖输出文件。通常 bzip2 不会覆盖已经存在的文件。该选项还强制 bzip2 打破文件的硬连接，缺省情况下 bzip2 不会这么做。

-k --keep
    # 在压缩或解压缩时保留输入文件（不删除这些文件）。

-s --small
    # 在压缩、解压缩及检查时减少内存用量。采用一种修正的算法进行压缩和测试，每个数据块仅需要 2.5 个字节。这意味着任何文件都可以在 2300k
    # 的内存中进行解压缩， 尽管速度只有通常情况下的一半。

    # 在压缩时，-s将选定 200k 的块长度，内存用量也限制在 200k 左右， 代价是压缩率会降低。 总之，如果机器的内存较少（8兆字节或更少），
    # 可对所有操作都采用-s选项。参见下面的内存管理。

-q --quiet
    # 压制不重要的警告信息。属于 I/O 错误及其它严重事件的信息将不会被压制。

-v --verbose
    # 详尽模式 -- 显示每个被处理文件的压缩率。 命令行中更多的 -v 选项将增加详细的程度， 使 bzip2 显示出许多主要用于诊断目的信息。

-L --license -V --version
    # 显示软件版本，许可证条款及条件。

-1 to -9
    # 在压缩时将块长度设为 100 k、200 k ..  900 k。 对解压缩没有影响。参见下面的内存管理。

-- # 将所有后面的命令行变量看作文件名，即使这些变量以减号&quot;-&quot;打头。 可用这一选项处理以减号&quot;-&quot;打头的文件名， 例如：bzip2 -- -myfilename.

--repetitive-fast --repetitive-best
    # 这些选项在 0.9.5 及其以上版本中是多余的。 在较早的版本中，这两个选项对排序算法的行为提供了一些粗糙的控制，有些情况下很有用。 0.9.5
    # 及其以上版本采用了改进的算法而与这些选项无关。
</code></pre>
<h2 id="参数">参数</h2>
<p>文件：指定要压缩的文件。</p>
<h2 id="实例">实例</h2>
<h3 id="压缩指定文件-filename">压缩指定文件 filename</h3>
<pre><code class="language-Shell">bzip2 filename
或
bzip2 -z filename
</code></pre>
<p>这里，压缩的时候不会输出，会将原来的文件 filename 给删除，替换成 filename.bz2 如果以前有 filename.bz2 则不会替换并提示错误（如果想要替换则指定 -f 选项，例如<code>bzip2 -f filename</code>；如果 filename 是目录则也提醒错误不做任何操作；如果 filename 已经是压过的了有 bz2 后缀就提醒一下，不再压缩，没有 bz2 后缀会再次压缩。</p>
<h3 id="解压指定的文件-filenamebz2">解压指定的文件 filename.bz2</h3>
<pre><code class="language-Shell">bzip2 -d filename.bz2
或
bunzip2 filename.bz2
</code></pre>
<p>这里，解压的时候没标准输出，会将原来的文件 filename.bz2 给替换成 filename。如果以前有 filename 则不会替换并提示错误（如果想要替换则指定<code>-f</code>选项，例如<code>bzip2 -df filename.bz2</code>。</p>
<h3 id="压缩解压的时候将结果也输出">压缩解压的时候将结果也输出</h3>
<pre><code class="language-Shell">$bzip2 -v filename
</code></pre>
<p>输入之后，输出如下：</p>
<pre><code class="language-Shell">filename:  0.119:1, 67.200 bits/byte, -740.00% saved, 5 in, 42 out.
</code></pre>
<p>这里，加上<code>-v</code>选项就会输出了,只用压缩举例了，解压的时候同理<code>bzip2 -dv filename.bz2</code>不再举例了。</p>
<h3 id="模拟解压实际并不解压">模拟解压实际并不解压</h3>
<pre><code class="language-Shell">bzip2 -tv filename.bz2
</code></pre>
<p>输入之后，输出如下：</p>
<pre><code class="language-Shell">filename.bz2: ok
</code></pre>
<p>这里，<code>-t</code>指定要进行模拟解压，不实际生成结果，也就是说类似检查文件,当然就算目录下面有 filename 也不会有什么错误输出了，因为它根本不会真的解压文件。为了在屏幕上输出，这里加上<code>-v</code>选项了,如果是真的解压<code>bzip2 -dv filename.bz2</code>则输出的是把&quot;ok&quot;替换成了&quot;done&quot;。</p>
<h3 id="压缩解压的时候除了生成结果文件将原来的文件也保存">压缩解压的时候，除了生成结果文件，将原来的文件也保存</h3>
<pre><code class="language-Shell">bzip2 -k filename
</code></pre>
<p>这里，加上 -k 就保存原始的文件了，否则原始文件会被结果文件替代。只用压缩举例了，解压的时候同理<code>$bzip2 -dk filename.bz2</code>不再举例了。</p>
<h3 id="解压到标准输出">解压到标准输出</h3>
<pre><code class="language-Shell">bzip2 -dc filename.bz2
</code></pre>
<p>输入之后，输出如下：</p>
<pre><code class="language-Shell">hahahhaahahha
</code></pre>
<p>这里，使用<code>-c</code>指定到标准输出，输出的是文件 filename 的内容，不会将 filename.bz2 删除。</p>
<h3 id="压缩到标准输出">压缩到标准输出</h3>
<pre><code class="language-Shell">bzip2 -c filename
bzip2: I won't write compressed data to a terminal.
bzip2: For help, type: `bzip2 --help'.
</code></pre>
<p>这里，使用<code>-c</code>指定压缩到标准输出不删除原有文件，不同的是，压缩后的文件无法输出到标准输出。</p>
<h3 id="使用bzip2的时候将所有后面的看作文件即使文件名以-开头">使用bzip2的时候将所有后面的看作文件(即使文件名以'-'开头)：</h3>
<pre><code class="language-Shell">bzip2 -- -myfilename
</code></pre>
<p>这里主要是为了防止文件名中-产生以为是选项的歧义。</p>

          </div>
        </article>
        <div class="next-post">
          <div class="next">下一篇</div>
          <a href="http://localhost:4000/post/bzgrep/">
            <h3 class="post-title">bzgrep</h3>
          </a>
        </div>
        <div id="disqus_thread"></div>
        <div id="gitalk-container"></div>
      </div>
      <!-- middle -->
      <div class="main-container-middle"></div>
      <!-- right -->
      <div id="sidebar" class="main-container-right">
        <div class="id_card i-card">
          <div class="id_card-avatar" style="background-image: url(http://localhost:4000/images/avatar.png?v=1658242525812)"></div>
          <h1 class="id_card-title">Raz1ner</h1>
          <img style="margin-top: 15px;margin-bottom: 10px;" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fdev-coco.github.io&amp;count_bg=%2310C1F9&amp;title_bg=%23555555&amp;icon=html5.svg&amp;icon_color=%23E7E7E7&amp;title=%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0&amp;edge_flat=false">
          <p style="text-align: center;">
            <a href="https://github.com/dev-coco" target="_blank"><img class="social-icon" src="/images/social/GitHub.png"></a>
            <a href="https://t.me/raz1ner" target="_blank"><img class="social-icon" src="/images/social/Telegram.png"></a>
            <a href="/atom.xml" target="_blank"><img class="social-icon" src="/images/social/RSS.png"></a>
          </p>
          <!-- <h2 class="id_card-description"></h2> -->
          <!--  -->
          <div class="id_card-sns">
            <!-- github -->
            
            <!-- twitter -->
            <!-- weibo -->
            <!-- facebook -->
          </div>
        </div>
      <!-- toc -->
      <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
          <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E">补充说明</a></li>
<li><a href="#%E8%AF%AD%E6%B3%95">语法</a></li>
<li><a href="#%E9%80%89%E9%A1%B9">选项</a></li>
<li><a href="#%E5%8F%82%E6%95%B0">参数</a></li>
<li><a href="#%E5%AE%9E%E4%BE%8B">实例</a>
<ul>
<li><a href="#%E5%8E%8B%E7%BC%A9%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6-filename">压缩指定文件 filename</a></li>
<li><a href="#%E8%A7%A3%E5%8E%8B%E6%8C%87%E5%AE%9A%E7%9A%84%E6%96%87%E4%BB%B6-filenamebz2">解压指定的文件 filename.bz2</a></li>
<li><a href="#%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%86%E7%BB%93%E6%9E%9C%E4%B9%9F%E8%BE%93%E5%87%BA">压缩解压的时候将结果也输出</a></li>
<li><a href="#%E6%A8%A1%E6%8B%9F%E8%A7%A3%E5%8E%8B%E5%AE%9E%E9%99%85%E5%B9%B6%E4%B8%8D%E8%A7%A3%E5%8E%8B">模拟解压实际并不解压</a></li>
<li><a href="#%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E7%9A%84%E6%97%B6%E5%80%99%E9%99%A4%E4%BA%86%E7%94%9F%E6%88%90%E7%BB%93%E6%9E%9C%E6%96%87%E4%BB%B6%E5%B0%86%E5%8E%9F%E6%9D%A5%E7%9A%84%E6%96%87%E4%BB%B6%E4%B9%9F%E4%BF%9D%E5%AD%98">压缩解压的时候，除了生成结果文件，将原来的文件也保存</a></li>
<li><a href="#%E8%A7%A3%E5%8E%8B%E5%88%B0%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA">解压到标准输出</a></li>
<li><a href="#%E5%8E%8B%E7%BC%A9%E5%88%B0%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA">压缩到标准输出</a></li>
<li><a href="#%E4%BD%BF%E7%94%A8bzip2%E7%9A%84%E6%97%B6%E5%80%99%E5%B0%86%E6%89%80%E6%9C%89%E5%90%8E%E9%9D%A2%E7%9A%84%E7%9C%8B%E4%BD%9C%E6%96%87%E4%BB%B6%E5%8D%B3%E4%BD%BF%E6%96%87%E4%BB%B6%E5%90%8D%E4%BB%A5-%E5%BC%80%E5%A4%B4">使用bzip2的时候将所有后面的看作文件(即使文件名以'-'开头)：</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
          <script>
            function locateCatelogList() {
              /*获取文章目录集合,可通过:header过滤器*/
              var alis = $('.post-content :header');
              /*获取侧边栏目录列表集合**/
              var sidebar_alis = $('.markdownIt-TOC a');
              /*获取滚动条到顶部的距离*/
              var scroll_height = $(window).scrollTop();
              for (var i = 0; i < alis.length; i++) {
                /*获取锚点集合中的元素分别到顶点的距离*/
                var a_height = $(alis[i]).offset().top;
                if (a_height < scroll_height) {
                  /*高亮显示*/
                  sidebar_alis.removeClass('on');
                  $(sidebar_alis[i]).addClass('on');
                }
              }
            }
            $(function() {
              /*绑定滚动事件 */
              $(window).bind('scroll', locateCatelogList);
              });
          </script>
        </div>
      <div class="notice-card i-card ">
        <div class="notice-title i-card-title">公告</div>
        <div class="notice-content">博客新增 Telegram 频道：<a href="https://t.me/raz1ner" target="_blank" style="color: blue">瑞景乐的博客</a>，欢迎关注，及时收到最新文章推送。</div>
      </div>
      <div class="notice-card i-card "><div class="notice-title i-card-title"><a href="/tags/">标签</a></div>
        <div class="notice-content">
          <a class="tags-tag i-tag i-tag-primary" href="http://localhost:4000/tag/excel/">Excel</a>
          <a class="tags-tag i-tag i-tag-error" href="http://localhost:4000/tag/google-script/">Google 脚本</a>
          <a class="tags-tag i-tag i-tag-info" href="http://localhost:4000/tag/other/">其它</a>
          <a class="tags-tag i-tag i-tag-" href="http://localhost:4000/tag/javascript/">Javascript</a>
          <a class="tags-tag i-tag i-tag-other_4" href="http://localhost:4000/tag/macos/">macOS</a>
          <a class="tags-tag i-tag i-tag-banana" href="http://localhost:4000/tag/software/">软件</a>
          <a class="tags-tag i-tag i-tag-primary" href="http://localhost:4000/tag/whatsapp/">WhatsApp</a>
          <a class="tags-tag i-tag i-tag-other_1" href="http://localhost:4000/tag/facebook/">Facebook</a>
          <a class="tags-tag i-tag i-tag-other_4" href="http://localhost:4000/tag/windows/">Windows</a>
          <a class="tags-tag i-tag i-tag-success" href="http://localhost:4000/tag/ios/">iOS</a>
          <a class="tags-tag i-tag i-tag-error" href="http://localhost:4000/tag/shell/">Shell</a>
          <a class="tags-tag i-tag i-tag-success" href="http://localhost:4000/tag/linux-command/">Linux命令</a>
        </div>
      </div>
      </div>
    </div>
    <div class="site-footer">
    <span>Copyright © 2020-2022 Raz1ner - All Rights Reserved.</span> | <a class="rss" href="http://localhost:4000/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
  <script>
    $('#sidebar').stickySidebar({
    topSpacing: 80,
    // bottomSpacing: 60
    });
  </script>
  
</body>
</html>