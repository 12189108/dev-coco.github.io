<!DOCTYPE html>
<html lang="zh">
<head>
  <title>正则表达式</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="keywords" content="dev-coco, 正则表达式" />
  <meta name="robots" content="index,follow" />
  <meta name="description" content="正则表达式在线工具，同时支持字符转换。" />
  <link rel="icon" href="/images/avatar.png">
  <link rel="stylesheet" href="/css/site.css">
  <script data-ad-client="ca-pub-6960947409660270" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <style>.c_data{width:300px;height:100px}input{margin-top:10px}.re{width:300px;margin:0 auto}.reg{width:200px}select{width:300px}#copy_sel{width:230px}#copy_tool{width:300px}p{margin:0}</style>
</head>
<body>
  <div class="container">
    <h1 style="text-align:left;"><img class="logo" alt="dev-coco" src="/images/avatar.png">
      <span> Dev-Coco</span>
      <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fdev-coco.github.io&count_bg=%2310C1F9&title_bg=%23555555&icon=html5.svg&icon_color=%23E7E7E7&title=%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0&edge_flat=false" style="float:right;width:180px;">
    </h1>
    <div class="menu">
      <a href="/">首页</a>
      <a href="/Featured-Software.html">软件</a>
      <a href="/Online-Tools">在线工具</a>
      <a href="/post/Linux-Command">Linux命令</a>
      <a href="/Excel/">Excel教程</a>
      <a href="/post/Terms-and-Privacy">隐私与条款</a>
      <a target="_blank" href="https://github.com/dev-coco">Github</a>
    </div>
    <div class="re">
      <h3>正则表达式</h3>
      <textarea type="text" class="c_data" id="data1" autofocus></textarea>
      <br>
      <select id="sel1" onchange="chan()">
        <option value=""></option>
        <option value="(&amp;amp;|&amp;)__.+|\?(__|ref|comm|mul|view).+">FB最短链接 [替换]</option>
        <option value="(?&lt;=user\/).*?(?=\/)|(?&lt;=\?id=).*?(?=&amp;)|(?&lt;=\?id=|e_id=).+">FB数字ID [匹配]</option>
      </select>
      <br> <span>正则表达式</span>
      <input type="text" id="regular1" class="reg">
      <button class="button blue" type="button" id="btn1">确认</button>
      <input type="checkbox" id="ck">按列显示
      <input type="checkbox" id="replace">替换模式
      <p>第一次输出结果</p>
      <textarea type="text" class="c_data" id="data2"></textarea>
      <br>
      <select id="sel2" onchange="chan1()">
        <option value=""></option>
        <option value=".+">.+</option>
      </select>
      <br> <span>正则表达式</span>
      <input type="text" id="regular2" class="reg">
      <button class="button blue" type="button" id='btn2'>确认</button>
      <input type="checkbox" id="ck1">按列显示
      <input type="checkbox" id="ck2">空格
      <input type="checkbox" id="u_char">转换字符
      <p>第二次输出结果</p>
      <textarea type="text" class="c_data" id="data3"></textarea>
      <hr>
      <select id="copy_sel" onchange="copyTool()">
        <option value=""></option>>
      </select>
      <button class="button blue" onclick="copyText()">复制</button>
      <textarea type="text" id="copy_tool"></textarea>
    </div>
  </div>
  <script>var btn1=document.getElementById("btn1"),btn2=document.getElementById("btn2"),sel1=document.getElementById("sel1"),sel2=document.getElementById("sel2"),ans="",war="";function lookup(e){return new RegExp(document.getElementById(e).value,"gi")}function chan(){document.getElementById("regular1").value=sel1.value}function chan1(){document.getElementById("regular2").value=sel2.value}function copyTool(){document.getElementById("copy_tool").value=document.getElementById("copy_sel").value}function shu(e){for(var t=lookup("regular2"),n=e.match(t),c="",a=0;a<n.length;a++)""!=n[a]&&(c+=n[a]+"\n");return console.log(c,1,n,1,t,1,e),c}function to_char(e){return e.replace(/(&#)(\d{1,6});/gi,function(e){return String.fromCharCode(parseInt(escape(e).replace(/(%26%23)(\d{1,6})(%3B)/g,"$2")))})}function copyText(){document.getElementById("copy_tool").select(),document.execCommand("copy")}btn1.onclick=function(){var e=lookup("regular1");if(document.getElementById("ck").checked){if(document.getElementById("replace").checked)var t=document.getElementById("data1").value.replace(e,"");else for(var n=document.getElementById("data1").value.match(e),c=(t="",0);c<n.length;c++)""!=n&&(t+=n[c]+"\n");document.getElementById("data2").value=t,ans=String(n),war=t}else war=ans=document.getElementById("replace").checked?document.getElementById("data2").value=String(document.getElementById("data1").value.replace(e,"")).replace(/,/g,""):document.getElementById("data2").value=String(document.getElementById("data1").value.match(e)).replace(/,/g,"")},btn2.onclick=function(){ans=document.getElementById("data2").value;var e=lookup("regular2");document.getElementById("ck1").checked&&!document.getElementById("u_char").checked?document.getElementById("data3").value=shu(ans):document.getElementById("ck1").checked&&document.getElementById("u_char").checked?document.getElementById("data3").value=shu(to_char(ans)):!document.getElementById("ck1").checked&&document.getElementById("u_char").checked?document.getElementById("data3").value=to_char(String(ans.match(e)).replace(/,/g,"")):document.getElementById("ck2").checked?document.getElementById("data3").value=to_char(String(ans.match(e)).replace(/,/g," ")):document.getElementById("data3").value=String(ans.match(e)).replace(/,/g,"")},chan(),chan1(),document.getElementById("copy_tool").value=document.getElementById("copy_sel").value;</script>
</body>
</html>
