<!DOCTYPE html>
<html lang="zh">
<head>
  <title>Exif清理</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="keywords" content="dev-coco, Exif, 图片元数据">
  <meta name="robots" content="index,follow">
  <meta name="description" content="清理图片Exif数据。">
  <link rel="icon" href="/images/avatar.png">
  <link rel="stylesheet" href="/css/site.css">
  <script data-ad-client="ca-pub-6960947409660270" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <style>.canvas-container{margin:0 auto}#exportBtn,.hide{display:none}.upload{margin:4rem auto 3rem;height:10rem;width:10rem;border:solid 1px #aaa;box-shadow:0 0 5px #aaa;border-radius:1rem;line-height:10rem;position:relative}#export{display:none;margin:0 auto;width:250px;height:250px}button{font-size:18px;color:#fff;padding:0 30px;height:3rem;background:#8fd16f;border:0;border-radius:20px}input[type=file]{font-size:1.8em}canvas{display:none}#output a{display:inline-block;margin-top:1em;background:green;color:#fff;padding:1em;border-radius:4px;text-decoration:none;font-size:1.3em}#output ul{float:left}</style>
</head>
<body>
  <div class="container">
    <h1 style="text-align:left;"><img class="logo" alt="dev-coco" src="/images/avatar.png">
      <span> Dev-Coco</span>
      <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fdev-coco.github.io&count_bg=%2310C1F9&title_bg=%23555555&icon=html5.svg&icon_color=%23E7E7E7&title=%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0&edge_flat=false" style="float:right;width:180px;">
    </h1>
    <div class="menu">
      <a href="/">首页</a>
      <a href="/Featured-Software.html">软件</a>
      <a href="/Online-Tools">在线工具</a>
      <a href="/post/Linux-Command">Linux命令</a>
      <a href="/Excel/">Excel教程</a>
      <a href="/post/Terms-and-Privacy">隐私与条款</a>
      <a target="_blank" href="https://github.com/dev-coco">Github</a>
    </div>
    <div id="app" style="position: absolute;left: 50%;top: 30%;text-align:center;-webkit-transform: translate(-50%, 0);">
      <input id="getfile" type="file" accept="image/*">
      <div id="output"></div>
      <canvas></canvas>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.min.js"></script>
  <script>!function(){var e=document.querySelector("#output"),t=window.URL||window.webkitURL,a=t.createObjectURL||!1,n=document.querySelector("#getfile"),r=document.querySelector("canvas"),o=r.getContext("2d"),d="",i=document.querySelector("#app");function c(n){document.body.classList.remove("dragdrop"),0;var r=n.dataTransfer?n.dataTransfer.files[0]:n.target.files[0];EXIF.getData(r,function(){d="<ul>";var n=EXIF.getAllTags(this);for(var o in n)"MakerNote"!==o&&(disp=n[o],d+="<li>"+o+": "+disp+"</li>");if(e.innerHTML=d+"</ul>",0!==o)if(a)l(t.createObjectURL(r),r.name);else{var i=new FileReader;i.readAsDataURL(r),i.onload=function(e){l(e.target.result,r.name)}}else output.innerHTML="Exif已清理"}),n.preventDefault()}function l(t,a){var n=new Image;n.src=t,n.onload=function(){!function(t,a,n,d){r.width=a,r.height=n,o.drawImage(t,0,0,a,n);var i=d.replace(/\.([^\.]+)$/,"-cleaned.jpg");e.innerHTML+='<a href="'+r.toDataURL("image/jpeg",.9)+'" download="'+i+'">下载图片</a>'}(this,n.naturalWidth,n.naturalHeight,a)}}i.addEventListener("dragover",function(e){document.body.classList.add("dragdrop"),e.preventDefault()},!1),i.addEventListener("drop",c,!1),n.addEventListener("change",c,!1)}();</script>
</body>
</html>